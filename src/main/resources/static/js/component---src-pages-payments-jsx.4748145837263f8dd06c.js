(self.webpackChunkbooks=self.webpackChunkbooks||[]).push([[72],{1730:function(e,n,r){"use strict";var t=r(7294),a=r(6594),i=r(5900),o=r.n(i);n.Z=function(e){var n=e.input,r=e.onClick,i=e.children;return t.createElement(a.Z,{variant:n?"primary-light":"light",className:o()(["mr-2",{"no-print":!n}]),onClick:function(){return r()}},i)}},7534:function(e,n,r){"use strict";var t=r(7294),a=r(3414),i=r(6594),o=r(6856);n.Z=function(e){var n=e.isOpen,r=e.onConfirm,l=e.onDismiss,c=e.children;return t.createElement(o.Z,{isOpen:n,onClose:l},t.createElement(a.Z.Body,null,c),t.createElement(a.Z.Footer,null,t.createElement(i.Z,{variant:"light",onClick:function(){return l()}},"Annulla"),t.createElement(i.Z,{variant:"primary",onClick:function(){return r()}},"Conferma")))}},1249:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return V}});var t=r(7294),a=r(3887),i=r(7569),o=r(3948),l=r(1730),c=r(2531),u=r(8060),s=r(4697),p=r(2137),m=r(7757),d=r.n(m),f=r(3645),v=r(7534),h=r(2082),E="DeletePaymentModal",Z=function(){var e=(0,a.v9)((function(e){return e.payments.modals[E]})),n=(0,a.I0)(),r=e||{},i=r.isOpen,o=r.props,l=(o=void 0===o?{}:o).payment,c=function(){var e=(0,p.Z)(d().mark((function e(){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,s.Od)(l));case 3:r=e.sent,(0,f.SI)(r),n((0,h.Mr)(E)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Errore durante l'eliminazione del pagamento."),console.error("An error occurred while deleting the payment.",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return t.createElement(v.Z,{isOpen:i,onConfirm:c,onDismiss:function(){return n((0,h.Mr)(E))}},'Sei sicuro di voler eliminare il pagamento "',null==l?void 0:l.description,'"?')};Z.modal=E;var y=Z,g=r(3414),C=r(6594),k=r(6426),b=r(1522),M=r(7478),O=r(6856),w="SearchByInvoiceModal",x=function(e){return t.createElement(t.Fragment,null,t.createElement("p",{className:"text-muted small mb-0 pl-2"},t.createElement("small",null,e.data.supplierName)),t.createElement(k.c.Option,e))},B=function(){var e=(0,a.v9)((function(e){return e.payments.modals.SearchByInvoiceModal})),n=(0,a.I0)(),r=(0,t.useState)(),i=r[0],o=r[1],l=(e||{}).isOpen,c=function(){var e=(0,p.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((0,h.tr)({invoice:i,supplier:void 0})),n((0,s.il)()),n((0,h.Mr)(w));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,p.Z)(d().mark((function e(n,r){var t,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.searchByMethod("invoices","findByDescriptionContainingIgnoreCase",{description:n});case 3:t=e.sent,a=t._embedded,r(a.invoices),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Errore: impossibile caricare opzioni."),console.error("Error while loading options.",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,r){return e.apply(this,arguments)}}();return t.createElement(O.Z,{isOpen:l,onClose:function(){return n((0,h.Mr)(w))}},t.createElement(g.Z.Body,null,t.createElement(M.Z,{components:{Option:x},getOptionLabel:function(e){return e.description},getOptionValue:function(e){return e.id},value:i,loadOptions:u,onChange:o})),t.createElement(g.Z.Footer,null,t.createElement(C.Z,{variant:"light",onClick:function(){return n((0,h.Mr)(w))}},"Annulla"),t.createElement(C.Z,{variant:"primary",type:"submit",onClick:c},"Confirma")))};B.modal=w;var S=B,I="SearchByPeriodModal",L=function(){var e=(0,a.v9)((function(e){return e.payments.modals.SearchByPeriodModal})),n=(0,a.I0)(),r=(0,t.useState)(),i=r[0],o=r[1],l=(e||{}).isOpen,c=function(){var e=(0,p.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((0,h.tr)({period:i})),n((0,s.il)()),n((0,h.Mr)(I));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,p.Z)(d().mark((function e(n,r){var t,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.searchByMethod("periods","findByNameContainingIgnoreCase",{name:n});case 3:t=e.sent,a=t._embedded,r(a.periods),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Errore: impossibile caricare opzioni."),console.error("Error while loading options.",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,r){return e.apply(this,arguments)}}();return t.createElement(O.Z,{isOpen:l,onClose:function(){return n((0,h.Mr)(I))}},t.createElement(g.Z.Body,null,t.createElement(M.Z,{getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},value:i,loadOptions:u,onChange:o})),t.createElement(g.Z.Footer,null,t.createElement(C.Z,{variant:"light",onClick:function(){return n((0,h.Mr)(I))}},"Annulla"),t.createElement(C.Z,{variant:"primary",type:"submit",onClick:c},"Confirma")))};L.modal=I;var N=L,z="SearchBySupplierModal",A=function(){var e=(0,a.v9)((function(e){return e.payments.modals.SearchBySupplierModal})),n=(0,a.I0)(),r=(0,t.useState)(),i=r[0],o=r[1],l=(e||{}).isOpen,c=function(){var e=(0,p.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((0,h.tr)({supplier:i,invoice:void 0})),n((0,s.il)()),n((0,h.Mr)(z));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,p.Z)(d().mark((function e(n,r){var t,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.searchByMethod("suppliers","findByNameContainingIgnoreCase",{name:n});case 3:t=e.sent,a=t._embedded,r(a.suppliers),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Errore: impossibile caricare opzioni."),console.error("Error while loading options.",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,r){return e.apply(this,arguments)}}();return t.createElement(O.Z,{isOpen:l,onClose:function(){return n((0,h.Mr)(z))}},t.createElement(g.Z.Body,null,t.createElement(M.Z,{getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},value:i,loadOptions:u,onChange:o})),t.createElement(g.Z.Footer,null,t.createElement(C.Z,{variant:"light",onClick:function(){return n((0,h.Mr)(z))}},"Annulla"),t.createElement(C.Z,{variant:"primary",type:"submit",onClick:c},"Confirma")))};A.modal=z;var F=A,D=r(6716),P=r(6572),V=function(){var e,n,r,p,m,d,f,v,E,Z=(0,a.v9)((function(e){return e.payments})),g=(0,a.I0)();(0,t.useEffect)((function(){g((0,s.il)())}),[g]);var C=[{label:t.createElement(i.Z,{icon:"edit"}),onClick:function(e){return g((0,h.h7)({modal:D.Z.modal,props:{payment:e}}))}},{label:t.createElement(i.Z,{icon:"trash-alt"}),onClick:function(e){return g((0,h.h7)({modal:y.modal,props:{payment:e}}))}}];return t.createElement(u.Z,{privateRoute:!0},t.createElement("div",{className:"h-100 px-3",style:{overflowY:"auto"}},t.createElement("div",{className:"my-3"},t.createElement(l.Z,{input:null===(e=Z.search)||void 0===e?void 0:e.period,onClick:function(){return g((0,h.h7)({modal:N.modal}))}},(null===(n=Z.search)||void 0===n||null===(r=n.period)||void 0===r?void 0:r.name)||"Seleiona periodo"),t.createElement(l.Z,{input:null===(p=Z.search)||void 0===p?void 0:p.supplier,onClick:function(){return g((0,h.h7)({modal:F.modal}))}},(null===(m=Z.search)||void 0===m||null===(d=m.supplier)||void 0===d?void 0:d.name)||"Seleziona fornitore"),t.createElement(l.Z,{input:null===(f=Z.search)||void 0===f?void 0:f.invoice,onClick:function(){return g((0,h.h7)({modal:S.modal}))}},(null===(v=Z.search)||void 0===v||null===(E=v.invoice)||void 0===E?void 0:E.description)||"Seleziona fattura")),t.createElement(c.Z,{schema:P,ids:Z.ids,entities:Z.entities,page:Z.page,isLoading:Z.isLoading,actions:C}),t.createElement(o.Z,{page:Z.page,isLoading:Z.isLoading,onLoadMore:function(){return g((0,s.nR)())}}),t.createElement(y,null),t.createElement(N,null),t.createElement(F,null),t.createElement(S,null)))}}}]);
//# sourceMappingURL=component---src-pages-payments-jsx.4748145837263f8dd06c.js.map