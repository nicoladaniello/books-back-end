{"version":3,"sources":["webpack://books/./src/components/common/modal/ConfirmationModal.jsx","webpack://books/./src/components/suppliers/DeleteSupplierModal.jsx","webpack://books/./src/pages/suppliers.jsx"],"names":["isOpen","onConfirm","onDismiss","children","onClose","variant","onClick","modal","DeleteSupplierModal","state","useSelector","suppliers","modals","dispatch","useDispatch","props","supplier","handleConfirm","remove","result","unwrapResult","closeModal","alert","console","error","ConfirmationModal","name","useEffect","loadEntities","actions","label","Icon","icon","openModal","UpsertSupplierModal","View","privateRoute","className","style","overflowY","Table","schema","ids","entities","page","isLoading","Pagination","onLoadMore","loadMore"],"mappings":"+IAkBA,IAd0B,SAAC,GAAD,IAAGA,EAAH,EAAGA,OAAQC,EAAX,EAAWA,UAAWC,EAAtB,EAAsBA,UAAWC,EAAjC,EAAiCA,SAAjC,OACxB,gBAAC,IAAD,CAAOH,OAAQA,EAAQI,QAASF,GAC9B,gBAAC,SAAD,KAAeC,GACf,gBAAC,WAAD,KACE,gBAAC,IAAD,CAAQE,QAAQ,QAAQC,QAAS,kBAAMJ,MAAvC,WAGA,gBAAC,IAAD,CAAQG,QAAQ,UAAUC,QAAS,kBAAML,MAAzC,gB,oNCJAM,EAAQ,sBAERC,EAAsB,WAC1B,IAAMC,GAAQC,SAAY,SAACD,GAAD,OAAWA,EAAME,UAAUC,OAAOL,MACtDM,GAAWC,UAFe,EAIaL,GAAS,GAA9CT,EAJwB,EAIxBA,OAJwB,IAIhBe,MAASC,GAJO,aAIM,GAJN,GAIPA,SAGnBC,EAAa,mCAAG,6GAEGJ,GAASK,QAAOF,IAFnB,OAEZG,EAFY,QAGlBC,QAAaD,GACbN,GAASQ,QAAWd,IAJF,gDAMlBe,MAAM,gDACNC,QAAQC,MAAM,iDAAd,MAPkB,yDAAH,qDAWnB,OACE,gBAACC,EAAA,EAAD,CACEzB,OAAQA,EACRC,UAAWgB,EACXf,UAAW,kBAAMW,GAASQ,QAAWd,MAHvC,+CAK+CS,aAL/C,EAK+CA,EAAUU,KALzD,OAUJlB,EAAoBD,MAAQA,EAE5B,Q,oBCyBA,EArDkB,WAChB,IAAME,GAAQC,SAAY,SAACD,GAAD,OAAWA,EAAME,aACrCE,GAAWC,WAKjBa,gBAAU,WAAWd,GAASe,aAAiB,CAACf,IAEhD,IAWMgB,EAAU,CACd,CAAEC,MAAO,gBAACC,EAAA,EAAD,CAAMC,KAAK,SAAW1B,QAZZ,SAACU,GAAD,OACnBH,GACEoB,QAAU,CAAE1B,MAAO2B,UAA2BnB,MAAO,CAAEC,iBAWzD,CACEc,MAAO,gBAACC,EAAA,EAAD,CAAMC,KAAK,cAClB1B,QAViB,SAACU,GAAD,OACnBH,GACEoB,QAAU,CAAE1B,MAAOC,QAA2BO,MAAO,CAAEC,kBAe3D,OACE,gBAACmB,EAAA,EAAD,CAAMC,cAAY,GAChB,uBAAKC,UAAU,aAAaC,MAAO,CAAEC,UAAW,SAC9C,gBAACC,EAAA,EAAD,CACEC,OAAQA,EACRC,IAAKjC,EAAMiC,IACXC,SAAUlC,EAAMkC,SAChBC,KAAMnC,EAAMmC,KACZC,UAAWpC,EAAMoC,UACjBhB,QAASA,IAEX,gBAACiB,EAAA,EAAD,CACEF,KAAMnC,EAAMmC,KACZC,UAAWpC,EAAMoC,UACjBE,WAAY,kBAAMlC,GAASmC,cAE7B,gBAAC,EAAD","file":"component---src-pages-suppliers-jsx.9d2dd28581decd291009.js","sourcesContent":["import React from \"react\";\nimport { Button, Modal as BSModal } from \"react-bootstrap\";\nimport Modal from \".\";\n\nconst ConfirmationModal = ({ isOpen, onConfirm, onDismiss, children }) => (\n  <Modal isOpen={isOpen} onClose={onDismiss}>\n    <BSModal.Body>{children}</BSModal.Body>\n    <BSModal.Footer>\n      <Button variant=\"light\" onClick={() => onDismiss()}>\n        Annulla\n      </Button>\n      <Button variant=\"primary\" onClick={() => onConfirm()}>\n        Conferma\n      </Button>\n    </BSModal.Footer>\n  </Modal>\n);\n\nexport default ConfirmationModal;\n","import { unwrapResult } from \"@reduxjs/toolkit\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ConfirmationModal from \"../common/modal/ConfirmationModal\";\nimport { remove } from \"./actions\";\nimport { closeModal } from \"./slice\";\n\nconst modal = \"DeleteSupplierModal\";\n\nconst DeleteSupplierModal = () => {\n  const state = useSelector((state) => state.suppliers.modals[modal]);\n  const dispatch = useDispatch();\n\n  const { isOpen, props: { supplier } = {} } = state || {};\n\n  // Update result and close the modal.\n  const handleConfirm = async () => {\n    try {\n      const result = await dispatch(remove(supplier));\n      unwrapResult(result);\n      dispatch(closeModal(modal));\n    } catch (error) {\n      alert(\"Errore durante l'eliminazione della fattura.\");\n      console.error(\"An error occurred while deleting the supplier.\", error);\n    }\n  };\n\n  return (\n    <ConfirmationModal\n      isOpen={isOpen}\n      onConfirm={handleConfirm}\n      onDismiss={() => dispatch(closeModal(modal))}\n    >\n      Sei sicuro di voler eliminare il fornitore \"{supplier?.name}\"?\n    </ConfirmationModal>\n  );\n};\n\nDeleteSupplierModal.modal = modal;\n\nexport default DeleteSupplierModal;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Icon from \"../components/common/Icon\";\nimport Pagination from \"../components/common/Pagination\";\nimport Table from \"../components/common/table/Table\";\nimport View from \"../components/common/View\";\nimport { loadEntities, loadMore } from \"../components/suppliers/actions\";\nimport DeleteSupplierModal from \"../components/suppliers/DeleteSupplierModal\";\nimport { openModal } from \"../components/suppliers/slice\";\nimport UpsertSupplierModal from \"../components/suppliers/UpsertSupplierModal\";\nimport schema from \"../settings/schemas/suppliers\";\n\nconst Suppliers = () => {\n  const state = useSelector((state) => state.suppliers);\n  const dispatch = useDispatch();\n\n  /**\n   * Initial fetch\n   */\n  useEffect(() => void dispatch(loadEntities()), [dispatch]);\n\n  const handleUpdate = (supplier) =>\n    dispatch(\n      openModal({ modal: UpsertSupplierModal.modal, props: { supplier } })\n    );\n\n  const handleRemove = (supplier) =>\n    dispatch(\n      openModal({ modal: DeleteSupplierModal.modal, props: { supplier } })\n    );\n\n  // Table row actions\n  const actions = [\n    { label: <Icon icon=\"edit\" />, onClick: handleUpdate },\n    {\n      label: <Icon icon=\"trash-alt\" />,\n      onClick: handleRemove,\n    },\n  ];\n\n  /**\n   * UI\n   */\n  return (\n    <View privateRoute>\n      <div className=\"h-100 px-3\" style={{ overflowY: \"auto\" }}>\n        <Table\n          schema={schema}\n          ids={state.ids}\n          entities={state.entities}\n          page={state.page}\n          isLoading={state.isLoading}\n          actions={actions}\n        />\n        <Pagination\n          page={state.page}\n          isLoading={state.isLoading}\n          onLoadMore={() => dispatch(loadMore())}\n        />\n        <DeleteSupplierModal />\n      </div>\n    </View>\n  );\n};\n\nexport default Suppliers;\n"],"sourceRoot":""}